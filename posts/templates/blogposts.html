{% extends 'base.html' %}
{% block title %}Blog{% endblock %}
{% block content %}
<article>
    <div id="blog">
    <header>
        <div class="heading">
            <h2>Blog</h2>
            <hr/>
        </div>
    </header>
    <section>
        <div class="blog_search">
            <form class="form-inline" action="{% url 'search_blog' %}" method='GET'>
                <input class="form-control mr-sm-2" name='q' type="text" placeholder="Search Blogposts" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0 col-sm-12 col-md-4" type="submit">Search</button>
            </form>
        </div>
        <br/>
    </section>
    <section>
        {% for post in posts %}
            <div class="row">
                <div class="author_body col-md-2 text-center">
                    <div class="author_img">
                        <img src="/media/images/self_profile.png" class="img-circle">
                    </div>
                    <p>Author: Connor B.</p>
                </div>
                <div class="col-md-10 blog_content">
                    <h1>{{ post.title }}</h1>
                    <p>Published on: {{ post.published_date }} </p>
                    <img class="img-fluid" src="/media/{{ post.image }}">
                    <div class="col-xs-9">
                    <br/>
                        <h5>{{ post.content|truncatewords:10 }}</h5>
                        <p>Views: {{post.views}}</p>
                        <p>Tag: {{ post.tag }}</p>
                        <p><a href="{% url 'post_detail' post.id %}"  class="btn btn-success">Read Full Post</a></p>
                    </div>
                </div>
            </div><hr/>
            {% endfor %}
    </div>
    </section>
</article>
{% endblock %}